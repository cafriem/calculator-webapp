{"ast":null,"code":"var _jsxFileName = \"/Users/cafriem/Desktop/webapps/calculator-webapp/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst basicButtons = [[\"7\", \"8\", \"9\", \"/\"], [\"4\", \"5\", \"6\", \"*\"], [\"1\", \"2\", \"3\", \"-\"], [\"0\", \".\", \"=\", \"+\"]];\nconst scientificButtons = [[\"sin\", \"cos\", \"tan\", \"log\"], [\"√\", \"x²\", \"x³\", \"x^y\"], [\"π\", \"e\", \"!\", \"1/x\"], [\"(\", \")\", \"^\", \"%\"]];\nfunction App() {\n  _s();\n  const [mode, setMode] = useState(\"basic\");\n  const [display, setDisplay] = useState(\"\");\n  const [cursorPos, setCursorPos] = useState(0); // New: cursor position\n  const [history, setHistory] = useState([]);\n  const [lastCursorPos, setLastCursorPos] = useState(0);\n  const handleButtonClick = useCallback(value => {\n    if (value === \"=\") {\n      try {\n        // Replace sin(x), cos(x), tan(x), log(x) with Math.sin/cos/tan/log10 and convert degrees to radians for trig\n        let expr = display.replace(/sin\\(([^)]+)\\)/g, (m, x) => `Math.sin((${x})*Math.PI/180)`).replace(/cos\\(([^)]+)\\)/g, (m, x) => `Math.cos((${x})*Math.PI/180)`).replace(/tan\\(([^)]+)\\)/g, (m, x) => `Math.tan((${x})*Math.PI/180)`).replace(/log\\(([^)]+)\\)/g, (m, x) => `Math.log10(${x})`);\n        // eslint-disable-next-line no-eval\n        const result = eval(expr).toString();\n        setHistory(prev => [...prev, {\n          expr: display,\n          result\n        }]);\n        setDisplay(result);\n        setCursorPos(result.length); // Move cursor to end\n      } catch {\n        setDisplay(\"Error\");\n        setCursorPos(0);\n      }\n    } else if ([\"sin\", \"cos\", \"tan\", \"log\"].includes(value)) {\n      // Insert function with parentheses at cursor, place cursor inside parentheses (after function name)\n      const funcText = value + '()';\n      setDisplay(display.slice(0, cursorPos) + funcText + display.slice(cursorPos));\n      setCursorPos(cursorPos + funcText.length - 1); // cursor just inside the ()\n    } else if (value === \"π\") {\n      const pi = Math.PI.toString();\n      setDisplay(display.slice(0, cursorPos) + pi + display.slice(cursorPos));\n      setCursorPos(cursorPos + pi.length);\n    } else if (value === \"e\") {\n      const e = Math.E.toString();\n      setDisplay(display.slice(0, cursorPos) + e + display.slice(cursorPos));\n      setCursorPos(cursorPos + e.length);\n    } else if (value === \"√\") {\n      try {\n        const num = parseFloat(display);\n        const result = Math.sqrt(num).toString();\n        setHistory(prev => [...prev, {\n          expr: `√(${display})`,\n          result\n        }]);\n        setDisplay(result);\n        setCursorPos(result.length);\n      } catch {\n        setDisplay(\"Error\");\n        setCursorPos(0);\n      }\n    } else if (value === \"x²\") {\n      try {\n        const num = parseFloat(display);\n        const result = (num * num).toString();\n        setHistory(prev => [...prev, {\n          expr: `${display}²`,\n          result\n        }]);\n        setDisplay(result);\n        setCursorPos(result.length);\n      } catch {\n        setDisplay(\"Error\");\n        setCursorPos(0);\n      }\n    } else if (value === \"x³\") {\n      try {\n        const num = parseFloat(display);\n        const result = (num * num * num).toString();\n        setHistory(prev => [...prev, {\n          expr: `${display}³`,\n          result\n        }]);\n        setDisplay(result);\n        setCursorPos(result.length);\n      } catch {\n        setDisplay(\"Error\");\n        setCursorPos(0);\n      }\n    } else if (value === \"1/x\") {\n      try {\n        const num = parseFloat(display);\n        const result = (1 / num).toString();\n        setHistory(prev => [...prev, {\n          expr: `1/${display}`,\n          result\n        }]);\n        setDisplay(result);\n        setCursorPos(result.length);\n      } catch {\n        setDisplay(\"Error\");\n        setCursorPos(0);\n      }\n    } else if (value === \"!\") {\n      try {\n        const num = parseInt(display);\n        if (num < 0) {\n          setDisplay(\"Error\");\n          setCursorPos(0);\n          return;\n        }\n        let factorial = 1;\n        for (let i = 2; i <= num; i++) {\n          factorial *= i;\n        }\n        const result = factorial.toString();\n        setHistory(prev => [...prev, {\n          expr: `${display}!`,\n          result\n        }]);\n        setDisplay(result);\n        setCursorPos(result.length);\n      } catch {\n        setDisplay(\"Error\");\n        setCursorPos(0);\n      }\n    } else if (value === \"C\") {\n      setDisplay(\"\");\n      setCursorPos(0);\n    } else {\n      setDisplay(display.slice(0, cursorPos) + value + display.slice(cursorPos));\n      setCursorPos(cursorPos + value.length);\n    }\n  }, [display, cursorPos]);\n\n  // Ensure cursor never lands inside a function name (sin, cos, tan, log)\n  useEffect(() => {\n    // Check if cursor is inside a function name\n    const funcNames = [\"sin(\", \"cos(\", \"tan(\", \"log(\"];\n    let found = false;\n    // sin(\n    if (cursorPos > 0 && display.slice(cursorPos - 1, cursorPos + 3) === 'sin(') {\n      found = true;\n      if (cursorPos > lastCursorPos) {\n        setCursorPos(cursorPos + 3);\n      } else {\n        setCursorPos(cursorPos - 1);\n      }\n    }\n    // cos(\n    else if (cursorPos > 0 && display.slice(cursorPos - 1, cursorPos + 3) === 'cos(') {\n      found = true;\n      if (cursorPos > lastCursorPos) {\n        setCursorPos(cursorPos + 3);\n      } else {\n        setCursorPos(cursorPos - 1);\n      }\n    }\n    // tan(\n    else if (cursorPos > 0 && display.slice(cursorPos - 1, cursorPos + 3) === 'tan(') {\n      found = true;\n      if (cursorPos > lastCursorPos) {\n        setCursorPos(cursorPos + 3);\n      } else {\n        setCursorPos(cursorPos - 1);\n      }\n    }\n    // log(\n    else if (cursorPos > 0 && display.slice(cursorPos - 1, cursorPos + 3) === 'log(') {\n      found = true;\n      if (cursorPos > lastCursorPos) {\n        setCursorPos(cursorPos + 3);\n      } else {\n        setCursorPos(cursorPos - 1);\n      }\n    }\n    if (!found) setLastCursorPos(cursorPos);\n  }, [cursorPos, display, lastCursorPos]);\n  useEffect(() => {\n    const handleKeyDown = e => {\n      const key = e.key;\n      if (/^[0-9]$/.test(key)) {\n        setDisplay(prev => prev.slice(0, cursorPos) + key + prev.slice(cursorPos));\n        setCursorPos(pos => pos + 1);\n      } else if ([\"+\", \"-\", \"*\", \"/\", \".\", \"%\", \"(\", \")\", \"^\"].includes(key)) {\n        setDisplay(prev => prev.slice(0, cursorPos) + key + prev.slice(cursorPos));\n        setCursorPos(pos => pos + 1);\n      } else if (key === \"Enter\" || key === \"=\") {\n        handleButtonClick(\"=\");\n      } else if (key === \"Backspace\") {\n        if (cursorPos > 0) {\n          setDisplay(prev => prev.slice(0, cursorPos - 1) + prev.slice(cursorPos));\n          setCursorPos(pos => pos - 1);\n        }\n      } else if (key === \"Delete\") {\n        setDisplay(prev => prev.slice(0, cursorPos) + prev.slice(cursorPos + 1));\n      } else if (key === \"ArrowLeft\") {\n        setCursorPos(pos => Math.max(0, pos - 1));\n      } else if (key === \"ArrowRight\") {\n        setCursorPos(pos => Math.min(display.length, pos + 1));\n      } else if (key.toLowerCase() === \"c\") {\n        setDisplay(\"\");\n        setCursorPos(0);\n      }\n      // Scientific functions via keyboard\n      else if (mode === \"scientific\") {\n        if (key.toLowerCase() === \"s\") handleButtonClick(\"sin\");else if (key.toLowerCase() === \"o\") handleButtonClick(\"cos\");else if (key.toLowerCase() === \"t\") handleButtonClick(\"tan\");else if (key.toLowerCase() === \"l\") handleButtonClick(\"log\");else if (key.toLowerCase() === \"p\") handleButtonClick(\"π\");else if (key.toLowerCase() === \"e\") handleButtonClick(\"e\");else if (key === \"r\") handleButtonClick(\"√\");else if (key === \"2\") handleButtonClick(\"x²\");else if (key === \"3\") handleButtonClick(\"x³\");else if (key === \"i\") handleButtonClick(\"1/x\");else if (key === \"f\") handleButtonClick(\"!\");\n      }\n    };\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, [display, mode, handleButtonClick, cursorPos]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-layout\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `calculator-container${mode === \"scientific\" ? \" scientific\" : \"\"}`,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Calculator\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mode-toggle\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: mode === \"basic\" ? \"active\" : \"\",\n          onClick: () => setMode(\"basic\"),\n          children: \"Basic\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: mode === \"scientific\" ? \"active\" : \"\",\n          onClick: () => setMode(\"scientific\"),\n          children: \"Scientific\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"display-controls\",\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          marginBottom: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          \"aria-label\": \"Move cursor left\",\n          style: {\n            marginRight: 8\n          },\n          onClick: () => {\n            // If moving left would put cursor inside a function name, skip to before the function\n            let newPos = cursorPos - 1;\n            // Only skip if the cursor would be inside the function name itself\n            const before = display.slice(0, cursorPos);\n            if (before.endsWith('n') && display.slice(cursorPos - 3, cursorPos) === 'sin') newPos = cursorPos - 3;\n            if (before.endsWith('s') && display.slice(cursorPos - 3, cursorPos) === 'cos') newPos = cursorPos - 3;\n            if (before.endsWith('n') && display.slice(cursorPos - 3, cursorPos) === 'tan') newPos = cursorPos - 3;\n            if (before.endsWith('g') && display.slice(cursorPos - 3, cursorPos) === 'log') newPos = cursorPos - 3;\n            setCursorPos(Math.max(0, newPos));\n          },\n          disabled: cursorPos === 0,\n          children: \"\\u25C0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"display\",\n          style: {\n            flex: 1\n          },\n          children: [display.slice(0, cursorPos), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              display: 'inline-block',\n              width: '1ch',\n              color: '#1976d2',\n              fontWeight: 'bold',\n              animation: 'blink 1s steps(1) infinite'\n            },\n            children: \"|\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this), display.slice(cursorPos) || (cursorPos === 0 ? '0' : '')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          \"aria-label\": \"Move cursor right\",\n          style: {\n            marginLeft: 8\n          },\n          onClick: () => {\n            // If moving right would put cursor inside a function name, skip to after the function name and (\n            let newPos = cursorPos + 1;\n            // Only skip if the cursor would be inside the function name itself\n            const after = display.slice(cursorPos, cursorPos + 4);\n            if ([\"sin(\", \"cos(\", \"tan(\", \"log(\"].includes(after)) {\n              newPos = cursorPos + 4;\n            }\n            setCursorPos(Math.min(display.length, newPos));\n          },\n          disabled: cursorPos === display.length,\n          children: \"\\u25B6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buttons\",\n        children: [(mode === \"scientific\" ? scientificButtons : []).map((row, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"button-row\",\n          children: row.map(btn => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleButtonClick(btn),\n            children: btn\n          }, btn, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 17\n          }, this))\n        }, \"sci-\" + i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 13\n        }, this)), basicButtons.map((row, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"button-row\",\n          children: row.map(btn => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleButtonClick(btn),\n            children: btn\n          }, btn, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 17\n          }, this))\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"button-row\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleButtonClick(\"C\"),\n            children: \"C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"history-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"history-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"History\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"clear-history-btn\",\n          onClick: () => setHistory([]),\n          \"aria-label\": \"Clear history\",\n          children: \"\\uD83D\\uDDD1\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: history.slice().reverse().map((item, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"history-expr\",\n            children: item.expr\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"history-result\",\n            children: [\"= \", item.result]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 15\n          }, this)]\n        }, idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 231,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"ZbYkP9RU0WIXL5Hu0ykzhvCD030=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","jsxDEV","_jsxDEV","basicButtons","scientificButtons","App","_s","mode","setMode","display","setDisplay","cursorPos","setCursorPos","history","setHistory","lastCursorPos","setLastCursorPos","handleButtonClick","value","expr","replace","m","x","result","eval","toString","prev","length","includes","funcText","slice","pi","Math","PI","e","E","num","parseFloat","sqrt","parseInt","factorial","i","funcNames","found","handleKeyDown","key","test","pos","max","min","toLowerCase","window","addEventListener","removeEventListener","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","style","alignItems","marginBottom","marginRight","newPos","before","endsWith","disabled","flex","width","color","fontWeight","animation","marginLeft","after","map","row","btn","reverse","item","idx","_c","$RefreshReg$"],"sources":["/Users/cafriem/Desktop/webapps/calculator-webapp/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport \"./App.css\";\n\nconst basicButtons = [\n  [\"7\", \"8\", \"9\", \"/\"],\n  [\"4\", \"5\", \"6\", \"*\"],\n  [\"1\", \"2\", \"3\", \"-\"],\n  [\"0\", \".\", \"=\", \"+\"]\n];\n\nconst scientificButtons = [\n  [\"sin\", \"cos\", \"tan\", \"log\"],\n  [\"√\", \"x²\", \"x³\", \"x^y\"],\n  [\"π\", \"e\", \"!\", \"1/x\"],\n  [\"(\", \")\", \"^\", \"%\"]\n];\n\nfunction App() {\n  const [mode, setMode] = useState(\"basic\");\n  const [display, setDisplay] = useState(\"\");\n  const [cursorPos, setCursorPos] = useState(0); // New: cursor position\n  const [history, setHistory] = useState([]);\n  const [lastCursorPos, setLastCursorPos] = useState(0);\n\n  const handleButtonClick = useCallback((value) => {\n    if (value === \"=\") {\n      try {\n        // Replace sin(x), cos(x), tan(x), log(x) with Math.sin/cos/tan/log10 and convert degrees to radians for trig\n        let expr = display\n          .replace(/sin\\(([^)]+)\\)/g, (m, x) => `Math.sin((${x})*Math.PI/180)`)\n          .replace(/cos\\(([^)]+)\\)/g, (m, x) => `Math.cos((${x})*Math.PI/180)`)\n          .replace(/tan\\(([^)]+)\\)/g, (m, x) => `Math.tan((${x})*Math.PI/180)`)\n          .replace(/log\\(([^)]+)\\)/g, (m, x) => `Math.log10(${x})`);\n        // eslint-disable-next-line no-eval\n        const result = eval(expr).toString();\n        setHistory((prev) => [...prev, { expr: display, result }]);\n        setDisplay(result);\n        setCursorPos(result.length); // Move cursor to end\n      } catch {\n        setDisplay(\"Error\");\n        setCursorPos(0);\n      }\n    } else if ([\"sin\", \"cos\", \"tan\", \"log\"].includes(value)) {\n      // Insert function with parentheses at cursor, place cursor inside parentheses (after function name)\n      const funcText = value + '()';\n      setDisplay(display.slice(0, cursorPos) + funcText + display.slice(cursorPos));\n      setCursorPos(cursorPos + funcText.length - 1); // cursor just inside the ()\n    } else if (value === \"π\") {\n      const pi = Math.PI.toString();\n      setDisplay(display.slice(0, cursorPos) + pi + display.slice(cursorPos));\n      setCursorPos(cursorPos + pi.length);\n    } else if (value === \"e\") {\n      const e = Math.E.toString();\n      setDisplay(display.slice(0, cursorPos) + e + display.slice(cursorPos));\n      setCursorPos(cursorPos + e.length);\n    } else if (value === \"√\") {\n      try {\n        const num = parseFloat(display);\n        const result = Math.sqrt(num).toString();\n        setHistory((prev) => [...prev, { expr: `√(${display})`, result }]);\n        setDisplay(result);\n        setCursorPos(result.length);\n      } catch {\n        setDisplay(\"Error\");\n        setCursorPos(0);\n      }\n    } else if (value === \"x²\") {\n      try {\n        const num = parseFloat(display);\n        const result = (num * num).toString();\n        setHistory((prev) => [...prev, { expr: `${display}²`, result }]);\n        setDisplay(result);\n        setCursorPos(result.length);\n      } catch {\n        setDisplay(\"Error\");\n        setCursorPos(0);\n      }\n    } else if (value === \"x³\") {\n      try {\n        const num = parseFloat(display);\n        const result = (num * num * num).toString();\n        setHistory((prev) => [...prev, { expr: `${display}³`, result }]);\n        setDisplay(result);\n        setCursorPos(result.length);\n      } catch {\n        setDisplay(\"Error\");\n        setCursorPos(0);\n      }\n    } else if (value === \"1/x\") {\n      try {\n        const num = parseFloat(display);\n        const result = (1 / num).toString();\n        setHistory((prev) => [...prev, { expr: `1/${display}`, result }]);\n        setDisplay(result);\n        setCursorPos(result.length);\n      } catch {\n        setDisplay(\"Error\");\n        setCursorPos(0);\n      }\n    } else if (value === \"!\") {\n      try {\n        const num = parseInt(display);\n        if (num < 0) {\n          setDisplay(\"Error\");\n          setCursorPos(0);\n          return;\n        }\n        let factorial = 1;\n        for (let i = 2; i <= num; i++) {\n          factorial *= i;\n        }\n        const result = factorial.toString();\n        setHistory((prev) => [...prev, { expr: `${display}!`, result }]);\n        setDisplay(result);\n        setCursorPos(result.length);\n      } catch {\n        setDisplay(\"Error\");\n        setCursorPos(0);\n      }\n    } else if (value === \"C\") {\n      setDisplay(\"\");\n      setCursorPos(0);\n    } else {\n      setDisplay(display.slice(0, cursorPos) + value + display.slice(cursorPos));\n      setCursorPos(cursorPos + value.length);\n    }\n  }, [display, cursorPos]);\n\n  // Ensure cursor never lands inside a function name (sin, cos, tan, log)\n  useEffect(() => {\n    // Check if cursor is inside a function name\n    const funcNames = [\"sin(\", \"cos(\", \"tan(\", \"log(\"];\n    let found = false;\n    // sin(\n    if (\n      cursorPos > 0 &&\n      display.slice(cursorPos - 1, cursorPos + 3) === 'sin('\n    ) {\n      found = true;\n      if (cursorPos > lastCursorPos) {\n        setCursorPos(cursorPos + 3);\n      } else {\n        setCursorPos(cursorPos - 1);\n      }\n    }\n    // cos(\n    else if (\n      cursorPos > 0 &&\n      display.slice(cursorPos - 1, cursorPos + 3) === 'cos('\n    ) {\n      found = true;\n      if (cursorPos > lastCursorPos) {\n        setCursorPos(cursorPos + 3);\n      } else {\n        setCursorPos(cursorPos - 1);\n      }\n    }\n    // tan(\n    else if (\n      cursorPos > 0 &&\n      display.slice(cursorPos - 1, cursorPos + 3) === 'tan('\n    ) {\n      found = true;\n      if (cursorPos > lastCursorPos) {\n        setCursorPos(cursorPos + 3);\n      } else {\n        setCursorPos(cursorPos - 1);\n      }\n    }\n    // log(\n    else if (\n      cursorPos > 0 &&\n      display.slice(cursorPos - 1, cursorPos + 3) === 'log('\n    ) {\n      found = true;\n      if (cursorPos > lastCursorPos) {\n        setCursorPos(cursorPos + 3);\n      } else {\n        setCursorPos(cursorPos - 1);\n      }\n    }\n    if (!found) setLastCursorPos(cursorPos);\n  }, [cursorPos, display, lastCursorPos]);\n\n  useEffect(() => {\n    const handleKeyDown = (e) => {\n      const key = e.key;\n      if ((/^[0-9]$/).test(key)) {\n        setDisplay((prev) => prev.slice(0, cursorPos) + key + prev.slice(cursorPos));\n        setCursorPos((pos) => pos + 1);\n      } else if ([\"+\", \"-\", \"*\", \"/\", \".\", \"%\", \"(\", \")\", \"^\"].includes(key)) {\n        setDisplay((prev) => prev.slice(0, cursorPos) + key + prev.slice(cursorPos));\n        setCursorPos((pos) => pos + 1);\n      } else if (key === \"Enter\" || key === \"=\") {\n        handleButtonClick(\"=\");\n      } else if (key === \"Backspace\") {\n        if (cursorPos > 0) {\n          setDisplay((prev) => prev.slice(0, cursorPos - 1) + prev.slice(cursorPos));\n          setCursorPos((pos) => pos - 1);\n        }\n      } else if (key === \"Delete\") {\n        setDisplay((prev) => prev.slice(0, cursorPos) + prev.slice(cursorPos + 1));\n      } else if (key === \"ArrowLeft\") {\n        setCursorPos((pos) => Math.max(0, pos - 1));\n      } else if (key === \"ArrowRight\") {\n        setCursorPos((pos) => Math.min(display.length, pos + 1));\n      } else if (key.toLowerCase() === \"c\") {\n        setDisplay(\"\");\n        setCursorPos(0);\n      }\n      // Scientific functions via keyboard\n      else if (mode === \"scientific\") {\n        if (key.toLowerCase() === \"s\") handleButtonClick(\"sin\");\n        else if (key.toLowerCase() === \"o\") handleButtonClick(\"cos\");\n        else if (key.toLowerCase() === \"t\") handleButtonClick(\"tan\");\n        else if (key.toLowerCase() === \"l\") handleButtonClick(\"log\");\n        else if (key.toLowerCase() === \"p\") handleButtonClick(\"π\");\n        else if (key.toLowerCase() === \"e\") handleButtonClick(\"e\");\n        else if (key === \"r\") handleButtonClick(\"√\");\n        else if (key === \"2\") handleButtonClick(\"x²\");\n        else if (key === \"3\") handleButtonClick(\"x³\");\n        else if (key === \"i\") handleButtonClick(\"1/x\");\n        else if (key === \"f\") handleButtonClick(\"!\");\n      }\n    };\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, [display, mode, handleButtonClick, cursorPos]);\n\n  return (\n    <div className=\"app-layout\">\n      <div className={`calculator-container${mode === \"scientific\" ? \" scientific\" : \"\"}`}>\n        <h1>Calculator</h1>\n        <div className=\"mode-toggle\">\n          <button\n            className={mode === \"basic\" ? \"active\" : \"\"}\n            onClick={() => setMode(\"basic\")}\n          >\n            Basic\n          </button>\n          <button\n            className={mode === \"scientific\" ? \"active\" : \"\"}\n            onClick={() => setMode(\"scientific\")}\n          >\n            Scientific\n          </button>\n        </div>\n        <div className=\"display-controls\" style={{ display: 'flex', alignItems: 'center', marginBottom: 8 }}>\n          <button\n            aria-label=\"Move cursor left\"\n            style={{ marginRight: 8 }}\n            onClick={() => {\n              // If moving left would put cursor inside a function name, skip to before the function\n              let newPos = cursorPos - 1;\n              // Only skip if the cursor would be inside the function name itself\n              const before = display.slice(0, cursorPos);\n              if (before.endsWith('n') && display.slice(cursorPos - 3, cursorPos) === 'sin') newPos = cursorPos - 3;\n              if (before.endsWith('s') && display.slice(cursorPos - 3, cursorPos) === 'cos') newPos = cursorPos - 3;\n              if (before.endsWith('n') && display.slice(cursorPos - 3, cursorPos) === 'tan') newPos = cursorPos - 3;\n              if (before.endsWith('g') && display.slice(cursorPos - 3, cursorPos) === 'log') newPos = cursorPos - 3;\n              setCursorPos(Math.max(0, newPos));\n            }}\n            disabled={cursorPos === 0}\n          >\n            ◀\n          </button>\n          <div className=\"display\" style={{ flex: 1 }}>\n            {display.slice(0, cursorPos)}\n            <span style={{ display: 'inline-block', width: '1ch', color: '#1976d2', fontWeight: 'bold', animation: 'blink 1s steps(1) infinite' }}>|</span>\n            {display.slice(cursorPos) || (cursorPos === 0 ? '0' : '')}\n          </div>\n          <button\n            aria-label=\"Move cursor right\"\n            style={{ marginLeft: 8 }}\n            onClick={() => {\n              // If moving right would put cursor inside a function name, skip to after the function name and (\n              let newPos = cursorPos + 1;\n              // Only skip if the cursor would be inside the function name itself\n              const after = display.slice(cursorPos, cursorPos + 4);\n              if ([\"sin(\", \"cos(\", \"tan(\", \"log(\"].includes(after)) {\n                newPos = cursorPos + 4;\n              }\n              setCursorPos(Math.min(display.length, newPos));\n            }}\n            disabled={cursorPos === display.length}\n          >\n            ▶\n          </button>\n        </div>\n        <div className=\"buttons\">\n          {(mode === \"scientific\" ? scientificButtons : []).map((row, i) => (\n            <div className=\"button-row\" key={\"sci-\" + i}>\n              {row.map((btn) => (\n                <button key={btn} onClick={() => handleButtonClick(btn)}>\n                  {btn}\n                </button>\n              ))}\n            </div>\n          ))}\n          {basicButtons.map((row, i) => (\n            <div className=\"button-row\" key={i}>\n              {row.map((btn) => (\n                <button key={btn} onClick={() => handleButtonClick(btn)}>\n                  {btn}\n                </button>\n              ))}\n            </div>\n          ))}\n          <div className=\"button-row\">\n            <button onClick={() => handleButtonClick(\"C\")}>C</button>\n          </div>\n        </div>\n      </div>\n      <div className=\"history-panel\">\n        <div className=\"history-header\">\n          <h2>History</h2>\n          <button className=\"clear-history-btn\" onClick={() => setHistory([])} aria-label=\"Clear history\">🗑️</button>\n        </div>\n        <ul>\n          {history.slice().reverse().map((item, idx) => (\n            <li key={idx}>\n              <div className=\"history-expr\">{item.expr}</div>\n              <div className=\"history-result\">= {item.result}</div>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}